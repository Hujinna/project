(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{356:function(e,t,n){},360:function(e,t,n){"use strict";n.r(t);var a=n(121),i=n(0),c=n(26),o=n.n(c),r=n(28);function s(){return localStorage.getItem("name")}var l=n(6),d=function(e){var t="",n="";return Object(l.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",height:"100%"},children:Object(l.jsxs)("div",{style:{display:"flex",width:"60%",height:"60%",borderColor:"#ccc",borderWidth:1,borderStyle:"solid",flexDirection:"row",borderRadius:20},children:[Object(l.jsxs)("div",{style:{width:"50%",height:"100%",backgroundColor:"rgba(3,119,165,100)",borderTopLeftRadius:20,borderBottomLeftRadius:20,padding:50},children:[Object(l.jsx)("p",{style:{fontSize:30,marginTop:50},children:"Info Share"}),Object(l.jsx)("p",{style:{fontSize:20},children:"\u5927\u5b66\u751f\u4fe1\u606f\u5171\u4eab \u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"})]}),Object(l.jsxs)("div",{style:{padding:50},children:[Object(l.jsx)("p",{style:{fontSize:20},children:"\u767b\u5f55"}),Object(l.jsx)("input",{type:"text",placeholder:"\u7528\u6237\u540d",onChange:function(e){t=e.target.value},style:{borderStyle:"none",outline:"none",borderBottomWidth:1,borderBottomStyle:"solid",margin:10,width:250,padding:5}}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"password",placeholder:"\u5bc6\u7801",onChange:function(e){n=e.target.value},style:{borderStyle:"none",outline:"none",borderBottomWidth:1,borderBottomStyle:"solid",margin:10,width:250,padding:5}}),Object(l.jsx)("br",{}),Object(l.jsx)("button",{style:{width:250,height:40,backgroundColor:"rgba(3,119,165,100)",borderStyle:"none",margin:10},onClick:function(){var a={name:t,password:n};fetch("https://www.prebeauty.work/login/register",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(t){var n;"success"===t.code?(n=t.token,localStorage.setItem("token",n),function(e){localStorage.setItem("name",e)}(t.name),e.history.push("/admin")):alert("\u7528\u6237\u540d\u6216\u5bc6\u7801\u9519\u8bef")}))},children:"\u767b\u5f55"})]})]})})},j=n(367),u=n(36),h=function(e){return console.log(e),Object(l.jsx)(j.a,{status:"404",title:"404",subTitle:"Sorry, the page you visited does not exist.",extra:Object(l.jsx)(u.a,{type:"primary",onClick:function(){e.history.goBack()},children:"Back Home"})})},b=n(27),p=n(364),m=n(363),O=n(61),f=n.n(O),x=n(60),y=n.n(x),g={id:"\u5e8f\u53f7",name:"\u59d3\u540d",tel:"\u7535\u8bdd",birth:"\u751f\u65e5",email:"\u90ae\u7bb1",address:"\u5730\u5740"},k=function(){var e=Object(i.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)([]),o=Object(b.a)(c,2),r=o[0],s=o[1],d=Object(i.useState)(0),j=Object(b.a)(d,2),h=j[0],O=j[1];return Object(i.useEffect)((function(){y()("https://www.prebeauty.work/user").then((function(e){var t=e.data[0],n=Object.keys(t).map((function(e){return{title:g[e],dataIndex:e,key:e}}));n.push({title:"\u64cd\u4f5c",dataIndex:"actions",key:"actions",render:function(e,t,n){return Object(l.jsx)(f.a,{children:Object(l.jsx)(u.a,{size:"small",type:"danger",children:"\u7981\u7528"})})}}),s(n);var i=e.data.map((function(e){return{key:e.id,id:e.id,name:e.name,tel:e.tel,birth:e.birth,email:e.email,address:e.address}}));a(i),O(i.length)})).catch((function(e){throw e}))}),[]),Object(l.jsx)(p.a,{title:"\u7528\u6237\u5217\u8868",size:"small",children:Object(l.jsx)(m.a,{dataSource:n,columns:r,pagination:{total:h,pageSize:5}})})},w=n(366),S=function(){var e=Object(i.useState)(!1),t=Object(b.a)(e,2),n=t[0],a=t[1];return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(u.a,{type:"primary",onClick:function(){a(!0)},children:"Open Modal"}),Object(l.jsxs)(w.a,{title:"Basic Modal",visible:n,onOk:function(){a(!1)},onCancel:function(){a(!1)},children:[Object(l.jsx)("p",{children:"Some contents..."}),Object(l.jsx)("p",{children:"Some contents..."}),Object(l.jsx)("p",{children:"Some contents..."})]})]})};var v="https://www.prebeauty.work",C={id:"\u5e8f\u53f7",name:"\u7ba1\u7406\u5458\u540d",tel:"\u7535\u8bdd",birth:"\u751f\u65e5",position:"\u804c\u4f4d",address:"\u5730\u5740",time:"\u5165\u804c\u65f6\u95f4"},I=function(e){var t=Object(i.useState)([]),n=Object(b.a)(t,2),a=n[0],c=n[1],o=Object(i.useState)([]),r=Object(b.a)(o,2),s=r[0],d=r[1],j=Object(i.useState)(0),h=Object(b.a)(j,2),O=h[0],x=h[1],g=Object(i.useState)(""),k=Object(b.a)(g,2),S=k[0],I=k[1],z=Object(i.useState)(!1),T=Object(b.a)(z,2),B=T[0],E=T[1];return Object(i.useEffect)((function(){y()(v+"/admin").then((function(e){var t=e.data[0],n=Object.keys(t).map((function(e){return{title:C[e],dataIndex:e,key:e}}));n.push({title:"\u64cd\u4f5c",dataIndex:"actions",key:"actions",render:function(e,t,n){return Object(l.jsx)(f.a,{children:Object(l.jsx)(u.a,{size:"small",type:"danger",onClick:function(){I(t.id),E(!0)},children:"\u5220\u9664"})})}}),d(n);var a=e.data.map((function(e){var t=function(e){var t=new Date(e);return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}(parseInt(e.time));return{key:e.id,id:e.id,name:e.name,tel:e.tel,birth:e.birth,position:e.position,address:e.address,time:t}}));c(a),x(a.length)})).catch((function(e){throw e}))}),[]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(p.a,{title:"\u7ba1\u7406\u5458\u5217\u8868",extra:Object(l.jsx)(u.a,{onClick:function(){e.history.push("/admin/adddata")},children:"\u6dfb\u52a0\u6570\u636e"}),size:"small",children:Object(l.jsx)(m.a,{dataSource:a,columns:s,pagination:{total:O,pageSize:5}})}),Object(l.jsx)(w.a,{visible:B,onOk:function(){return function(e){fetch(v+"/admin/"+e,{method:"delete"}).then((function(e){return e.json()})).then((function(e){console.log(e)})),E(!1);var t=a.filter((function(t){return t.key!==e}));c(t),x(t.length)}(S)},onCancel:function(){E(!1)},children:Object(l.jsx)("p",{children:"\u60a8\u786e\u5b9a\u8981\u5220\u9664\u5417"})})]})},z={id:"\u5e8f\u53f7",name:"\u6d3b\u52a8\u540d\u79f0",place:"\u6d3b\u52a8\u5730\u70b9",time:"\u53d1\u8d77\u65f6\u95f4",slogan:"\u4e3b\u9898",holder:"\u4e3e\u529e\u4eba",isStart:"\u6d3b\u52a8\u72b6\u6001"},T=function(e){var t=Object(i.useState)([]),n=Object(b.a)(t,2),a=n[0],c=n[1],o=Object(i.useState)([]),r=Object(b.a)(o,2),s=r[0],d=r[1],j=Object(i.useState)(0),h=Object(b.a)(j,2),O=h[0],x=h[1];return Object(i.useEffect)((function(){y()("https://www.prebeauty.work/activity").then((function(e){var t=e.data[0],n=Object.keys(t).map((function(e){return{title:z[e],dataIndex:e,key:e}}));n.push({title:"\u64cd\u4f5c",dataIndex:"actions",key:"actions",render:function(e,t,n){return Object(l.jsxs)(f.a,{children:[Object(l.jsx)(u.a,{type:"primary",size:"small",onClick:function(){console.log(t)},children:"\u4fee\u6539"}),Object(l.jsx)(u.a,{size:"small",onClick:function(){console.log(t)},children:"\u5220\u9664"})]})}}),d(n);var a=1,i=e.data.map((function(e){return{key:e.id,id:a++,name:e.name,place:e.place,time:e.time,slogan:e.slogan,holder:e.holder,isStart:e.isStart}}));c(i),x(i.length)})).catch((function(e){throw e}))}),[]),Object(l.jsx)(p.a,{title:"\u6d3b\u52a8\u5217\u8868",extra:Object(l.jsx)(u.a,{onClick:function(){},children:"\u6dfb\u52a0\u6570\u636e"}),size:"small",children:Object(l.jsx)(m.a,{dataSource:a,columns:s,pagination:{total:O,pageSize:5}})})},B=n(365),E={confessionid:"\u5e8f\u53f7",userid:"\u7528\u6237id",ccontent:"\u5185\u5bb9",clikesnum:"\u70b9\u8d5e\u6570\u91cf",cremarksnum:"\u8bc4\u8bba\u6570\u91cf"},F=function(){var e=Object(i.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],c=s();return Object(i.useEffect)((function(){fetch("https://www.prebeauty.work/admin/"+c).then((function(e){return e.json()})).then((function(e){console.log(e),a(e[0])}))}),[]),console.log(n),Object(l.jsxs)("div",{children:["\u59d3\u540d\uff1a",Object(l.jsx)("p",{children:n.name}),"\u7535\u8bdd\uff1a",Object(l.jsx)("p",{children:n.tel}),"\u751f\u65e5\uff1a",Object(l.jsx)("p",{children:n.birth}),"\u804c\u4f4d\uff1a",Object(l.jsx)("p",{children:n.position}),"\u5730\u5740\uff1a",Object(l.jsx)("p",{children:n.address})]})},L=[{path:"/admin/user",component:k,title:"\u7528\u6237\u4fe1\u606f",icon:"UserOutlined",isTop:!0},{path:"/admin/admin",component:I,title:"\u7ba1\u7406\u5458",icon:"LaptopOutlined",isTop:!0},{path:"/admin/activity",component:T,title:"\u6d3b\u52a8",icon:"FireOutlined",isTop:!0},{path:"/admin/confession",component:function(){var e=Object(i.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(i.useState)([]),o=Object(b.a)(c,2),r=o[0],s=o[1],d=Object(i.useState)(0),j=Object(b.a)(d,2),h=j[0],O=j[1];return Object(i.useEffect)((function(){y()("https://www.prebeauty.work/confession").then((function(e){var t=e.data[0],n=Object.keys(t).map((function(e){return{title:E[e],dataIndex:e,key:e}}));n.push({title:"\u64cd\u4f5c",dataIndex:"actions",key:"actions",render:function(e,t,n){return Object(l.jsxs)(f.a,{children:[Object(l.jsx)(u.a,{type:"primary",size:"small",children:"\u4fee\u6539"}),Object(l.jsx)(u.a,{size:"small",children:"\u5220\u9664"})]})}}),console.log(n),s(n);var i=e.data.map((function(e){return{key:e.confessionid,confessionid:e.confessionid,userid:e.userid,ccontent:e.ccontent,clikesnum:e.clikesnum,cremarksnum:e.cremarksnum}}));a(i),O(i.length)})).catch((function(e){throw e}))}),[]),Object(l.jsx)(p.a,{title:"\u8868\u767d\u5899\u5217\u8868",size:"small",children:Object(l.jsx)(m.a,{dataSource:n,columns:r,pagination:{total:h,pageSize:5}})})},title:"\u8868\u767d\u5899",icon:"FireOutlined",isTop:!0},{path:"/admin/adddata",component:function(e){var t={},n="",a="";return console.log(e),Object(l.jsxs)("form",{style:{marginLeft:50},children:["\u7ba1\u7406\u5458\u540d\uff1a",Object(l.jsx)(B.a,{style:{width:"50%",margin:5},placeholder:"\u8bf7\u8f93\u5165\u7ba1\u7406\u5458\u540d",onChange:function(e){t.name=e.target.value}}),Object(l.jsx)("br",{}),"\u8054\u7cfb\u7535\u8bdd\uff1a",Object(l.jsx)(B.a,{style:{width:"50%",margin:5},placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u7535\u8bdd",onChange:function(e){t.tel=e.target.value}}),Object(l.jsx)("br",{}),"\u5de5\u4f5c\u5185\u5bb9\uff1a",Object(l.jsx)(B.a,{style:{width:"50%",margin:5},placeholder:"\u8bf7\u8f93\u5165\u5de5\u4f5c\u5185\u5bb9",onChange:function(e){t.position=e.target.value}}),Object(l.jsx)("br",{}),"\u7ba1\u7406\u5bc6\u7801\uff1a",Object(l.jsx)(B.a.Password,{placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",style:{width:"50%",margin:5},onChange:function(e){n=e.target.value}}),Object(l.jsx)("br",{}),"\u786e\u8ba4\u5bc6\u7801\uff1a",Object(l.jsx)(B.a.Password,{placeholder:"\u8bf7\u786e\u8ba4\u5bc6\u7801",style:{width:"50%",margin:5},onChange:function(e){a=e.target.value}}),Object(l.jsx)("br",{}),Object(l.jsx)(u.a,{type:"primary",style:{margin:100},onClick:function(){n===a?(t.password=n,fetch("https://www.prebeauty.work/admin/add",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){console.log(e)})),alert("\u7ba1\u7406\u5458\u6dfb\u52a0\u6210\u529f\uff01"),e.history.push("/admin/admin")):alert("\u60a8\u7684\u5bc6\u7801\u4e0d\u4e00\u81f4\uff0c\u8bf7\u91cd\u65b0\u8f93\u5165")},children:"\u63d0\u4ea4\u4fdd\u5b58"})]})},isTop:!1},{path:"/admin/empty",component:n(57).a,isTop:!1},{path:"/admin/my",component:F,isTop:!1}],N=[{path:"/confirm",component:S},{path:"/login",component:d},{path:"/404",component:h}],J=n(362),R=n(76),D=n(119),H=n(369),M=n(368),W=(n(355),n(356),J.a.Header),P=J.a.Content,U=J.a.Sider,K=L.filter((function(e){return!0===e.isTop})),Y=(Object(M.a)({scriptUrl:"//at.alicdn.com/t/font_8d5l8fzk5b87iudi.js"}),Object(r.g)((function(e){var t=s(),n=Object(l.jsxs)(R.a,{onClick:function(t){"setting"===t.key&&e.history.push("/admin/my"),"note"===t.key&&e.history.push("/admin/empty"),"exit"===t.key&&(localStorage.removeItem("token"),localStorage.removeItem("name"),e.history.push("/login"))},children:[Object(l.jsx)(R.a.Item,{children:"\u901a\u77e5\u4e2d\u5fc3"},"note"),Object(l.jsx)(R.a.Item,{children:"\u4e2a\u4eba\u8bbe\u7f6e"},"setting"),Object(l.jsx)(R.a.Item,{children:"\u9000\u51fa"},"exit")]});return Object(l.jsxs)(J.a,{children:[Object(l.jsxs)(W,{className:"header",children:[Object(l.jsx)("div",{style:{color:"white",fontSize:20},children:"Info Share\u540e\u53f0\u7ba1\u7406\u7cfb\u7edf"}),Object(l.jsx)(D.a,{overlay:n,placement:"bottomLeft",arrow:!0,children:Object(l.jsx)("span",{style:{color:"white"},children:t})})]}),Object(l.jsxs)(J.a,{children:[Object(l.jsx)(U,{width:200,className:"site-layout-background",children:Object(l.jsx)(R.a,{mode:"inline",selectedKeys:e.location.pathname,style:{height:"100%",borderRight:0},children:K.map((function(t){return Object(l.jsxs)(R.a.Item,{onClick:function(t){e.history.push(t.key)},children:[" ",Object(l.jsx)(H.a,{}),t.title]},t.path)}))})}),Object(l.jsx)(J.a,{style:{padding:"0 24px 24px"},children:Object(l.jsx)(P,{className:"site-layout-background",style:{padding:24,margin:0,minHeight:280},children:e.children})})]})]})}))),_=function(){return localStorage.getItem("token")?Object(l.jsx)(Y,{children:Object(l.jsxs)(r.d,{children:[L.map((function(e){return Object(l.jsx)(r.b,{exact:!0,path:e.path,render:function(t){return Object(l.jsx)(e.component,Object(a.a)({},t))}},e.path)})),Object(l.jsx)(r.a,{exact:!0,from:"/admin",to:"/admin/user"}),Object(l.jsx)(r.a,{to:"/404"})]})}):Object(l.jsx)(r.a,{to:"/login"})},q=n(105);o.a.render(Object(l.jsx)(q.a,{children:Object(l.jsxs)(r.d,{children:[Object(l.jsx)(r.b,{path:"/admin",render:function(e){return Object(l.jsx)(_,Object(a.a)({},e))}}),N.map((function(e){return Object(l.jsx)(r.b,{path:e.path,component:e.component},e.path)})),Object(l.jsx)(r.a,{exact:!0,from:"/",to:"/login"}),Object(l.jsx)(r.a,{to:"/404"})]})}),document.getElementById("root"))}},[[360,1,2]]]);
//# sourceMappingURL=main.307f66a0.chunk.js.map